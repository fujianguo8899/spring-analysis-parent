<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.viewhigh.analysis.eureka.provider.mapper.UserLoginMapper">

	<select id="recordUserLogin" parameterType="com.viewhigh.analysis.domain.User">
		<bind name="currentTime" value="new java.util.Date()" />
		INSERT INTO
			user_login
		(
			uid,
			real_name,
			login_time
		)
		VALUES
		(
			#{user.id},
			#{user.realName},
			#{currentTime}
		)
	</select>
	
	<select id="countUserLogin" resultType="com.viewhigh.analysis.domain.UserLogin">
		SELECT
			uid AS id,
			real_name AS realName,
			COUNT(uid) AS loginCount
		FROM
			user_login
		GROUP BY
			uid
	</select>
  	
</mapper>